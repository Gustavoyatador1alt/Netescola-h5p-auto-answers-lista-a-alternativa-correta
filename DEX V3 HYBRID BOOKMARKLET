javascript:(function()%7B%2F%2F%20%3D%3DUserScript%3D%3D%0A%2F%2F%20%40name%20%20%20%20%20%20%20%20%20DEX%20V3%20(suporte%20base64%20imagens)%0A%2F%2F%20%40namespace%20%20%20%20http%3A%2F%2Ftampermonkey.net%2F%0A%2F%2F%20%40version%20%20%20%20%20%203.6%0A%2F%2F%20%40description%20%20Marca%20respostas%20corretas%20(MultiChoice%20e%20SingleChoice)%20incluindo%20alternativas%20que%20usam%20imagens%20em%20data%3Aimage%2Fbase64%20e%20avan%C3%A7a%20automaticamente%20no%20H5P.%0A%2F%2F%20%40author%20%20%20%20%20%20%20Gustavoyatador%0A%2F%2F%20%40match%20%20%20%20%20%20%20%20https%3A%2F%2Fsergoias.portal.sagreseduca.com.br%2F*%0A%2F%2F%20%40match%20%20%20%20%20%20%20%20https%3A%2F%2Fsergoias.portal.sagreseduca.com.br%2F*%0A%2F%2F%20%40grant%20%20%20%20%20%20%20%20none%0A%2F%2F%20%40run-at%20%20%20%20%20%20%20document-end%0A%2F%2F%20%40allFrames%20%20%20%20true%0A%2F%2F%20%3D%3D%2FUserScript%3D%3D%0A%0A(function%20()%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20%2F%2F%20%F0%9F%9A%80%20Injetar%20Eruda%20(console%20visual)%0A%20%20(function%20addEruda()%20%7B%0A%20%20%20%20if%20(window.eruda)%20return%3B%0A%20%20%20%20const%20script%20%3D%20document.createElement('script')%3B%0A%20%20%20%20script.src%20%3D%20%22https%3A%2F%2Fcdn.jsdelivr.net%2Fnpm%2Feruda%22%3B%0A%20%20%20%20script.onload%20%3D%20()%20%3D%3E%20%7B%20try%20%7B%20eruda.init()%3B%20%7D%20catch%20%7B%7D%20%7D%3B%0A%20%20%20%20document.body.appendChild(script)%3B%0A%20%20%7D)()%3B%0A%2F%2F%20%F0%9F%94%A7%20Melhor%20limpeza%20e%20normaliza%C3%A7%C3%A3o%20de%20texto%0Aconst%20clean%20%3D%20(html)%20%3D%3E%20%7B%0A%20%20if%20(!html)%20return%20%22%22%3B%0A%20%20%2F%2F%20Mant%C3%A9m%20o%20conte%C3%BAdo%20de%20sup%2Fsub%20com%20marca%C3%A7%C3%A3o%20visual%20simples%0A%20%20let%20text%20%3D%20html%0A%20%20%20%20.replace(%2F%3Csup%3E(.*%3F)%3C%5C%2Fsup%3E%2Fgi%2C%20%22%5E(%241)%22)%20%20%20%2F%2F%20transforma%20%C2%B2%C2%B3%E2%81%B8U%20%E2%86%92%20%5E(238)U%0A%20%20%20%20.replace(%2F%3Csub%3E(.*%3F)%3C%5C%2Fsub%3E%2Fgi%2C%20%22_(%241)%22)%20%20%20%2F%2F%20subscrito%20(qu%C3%ADmica)%0A%20%20%20%20.replace(%2F%3Cimg%5B%5E%3E%5D%2Balt%3D%22(%5B%5E%22%5D*)%22%5B%5E%3E%5D*%3E%2Fgi%2C%20%22%20%241%20%22)%20%2F%2F%20imagem%20com%20alt%0A%20%20%20%20.replace(%2F%3Cimg%5B%5E%3E%5D%2B%3E%2Fgi%2C%20%22%5Bimg%5D%22)%20%20%20%20%20%20%20%20%20%20%2F%2F%20imagem%20sem%20alt%0A%20%20%20%20.replace(%2F%26nbsp%3B%2Fg%2C%20%22%20%22)%0A%20%20%20%20.replace(%2F%3C%5B%5E%3E%5D*%3E%2Fg%2C%20%22%20%22)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20remove%20tags%20restantes%0A%20%20%20%20.replace(%2F%5Cs%2B%2Fg%2C%20%22%20%22)%0A%20%20%20%20.trim()%3B%0A%20%20return%20text%3B%0A%7D%3B%0A%0Aconst%20tryParse%20%3D%20(s)%20%3D%3E%20%7B%0A%20%20try%20%7B%20return%20typeof%20s%20%3D%3D%3D%20%22string%22%20%3F%20JSON.parse(s)%20%3A%20s%3B%20%7D%0A%20%20catch%20%7B%20return%20null%3B%20%7D%0A%7D%3B%0A%0Aconst%20pullParams%20%3D%20(obj%20%3D%20%7B%7D)%20%3D%3E%0A%20%20obj.params%20%26%26%20(obj.params.answers%20%7C%7C%20obj.params.question)%20%3F%20obj.params%20%3A%20obj%3B%0A%0A%2F%2F%20%F0%9F%94%A1%20Normaliza%20texto%20pra%20compara%C3%A7%C3%A3o%20robusta%0Aconst%20normalize%20%3D%20(s)%20%3D%3E%0A%20%20String(s%20%7C%7C%20%22%22)%0A%20%20%20%20.toLowerCase()%0A%20%20%20%20.replace(%2F%5B%5E%5Cp%7BL%7D%5Cp%7BN%7D%5E_()%5D%2B%2Fgu%2C%20%22%20%22)%20%2F%2F%20mant%C3%A9m%20letras%2C%20n%C3%BAmeros%2C%20%5E%20e%20_%0A%20%20%20%20.replace(%2F%5Cs%2B%2Fg%2C%20%22%20%22)%0A%20%20%20%20.trim()%3B%0A%0A%20%20%2F%2F%20nova%3A%20fingerprint%20curta%20de%20base64%20(para%20comparar%20imagens%20data%3A)%0A%20%20function%20shortBase64(b64)%20%7B%0A%20%20%20%20if%20(!b64%20%7C%7C%20typeof%20b64%20!%3D%3D%20'string')%20return%20''%3B%0A%20%20%20%20const%20comma%20%3D%20b64.indexOf('%2C')%3B%0A%20%20%20%20const%20payload%20%3D%20comma%20%3E%3D%200%20%3F%20b64.slice(comma%20%2B%201)%20%3A%20b64%3B%0A%20%20%20%20%2F%2F%20pega%20peda%C3%A7os%20iniciais%20e%20finais%20para%20reduzir%20colis%C3%B5es%0A%20%20%20%20return%20payload.slice(0%2C%2060)%20%2B%20(payload.length%20%3E%20120%20%3F%20payload.slice(-20)%20%3A%20'')%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%F0%9F%A7%B1%20Caixa%20de%20status%20flutuante%0A%20%20function%20createBox(doc%20%3D%20document)%20%7B%0A%20%20%20%20let%20box%20%3D%20doc.getElementById('dex-box')%3B%0A%20%20%20%20if%20(!box)%20%7B%0A%20%20%20%20%20%20box%20%3D%20doc.createElement('div')%3B%0A%20%20%20%20%20%20box.id%20%3D%20'dex-box'%3B%0A%20%20%20%20%20%20Object.assign(box.style%2C%20%7B%0A%20%20%20%20%20%20%20%20position%3A%20'fixed'%2C%0A%20%20%20%20%20%20%20%20top%3A%20'60px'%2C%0A%20%20%20%20%20%20%20%20left%3A%20'20px'%2C%0A%20%20%20%20%20%20%20%20minWidth%3A%20'260px'%2C%0A%20%20%20%20%20%20%20%20maxWidth%3A%20'420px'%2C%0A%20%20%20%20%20%20%20%20background%3A%20'%231a1f2b'%2C%0A%20%20%20%20%20%20%20%20color%3A%20'%23fff'%2C%0A%20%20%20%20%20%20%20%20border%3A%20'2px%20solid%20%232c3e50'%2C%0A%20%20%20%20%20%20%20%20borderRadius%3A%20'10px'%2C%0A%20%20%20%20%20%20%20%20padding%3A%20'8px%2012px'%2C%0A%20%20%20%20%20%20%20%20fontSize%3A%20'13px'%2C%0A%20%20%20%20%20%20%20%20lineHeight%3A%20'1.4'%2C%0A%20%20%20%20%20%20%20%20zIndex%3A%20'999999'%2C%0A%20%20%20%20%20%20%20%20boxShadow%3A%20'0%200%2015px%20rgba(0%2C0%2C0%2C0.4)'%2C%0A%20%20%20%20%20%20%20%20cursor%3A%20'move'%2C%0A%20%20%20%20%20%20%20%20userSelect%3A%20'none'%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20let%20isDown%20%3D%20false%2C%20offsetX%20%3D%200%2C%20offsetY%20%3D%200%3B%0A%20%20%20%20%20%20box.addEventListener('mousedown'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20isDown%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20offsetX%20%3D%20e.clientX%20-%20box.offsetLeft%3B%0A%20%20%20%20%20%20%20%20offsetY%20%3D%20e.clientY%20-%20box.offsetTop%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20doc.addEventListener('mouseup'%2C%20()%20%3D%3E%20(isDown%20%3D%20false))%3B%0A%20%20%20%20%20%20doc.addEventListener('mousemove'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(isDown)%20%7B%0A%20%20%20%20%20%20%20%20%20%20box.style.left%20%3D%20%60%24%7Be.clientX%20-%20offsetX%7Dpx%60%3B%0A%20%20%20%20%20%20%20%20%20%20box.style.top%20%3D%20%60%24%7Be.clientY%20-%20offsetY%7Dpx%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20doc.body.appendChild(box)%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20box%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%F0%9F%A7%A9%20Extra%C3%A7%C3%A3o%20de%20respostas%20(agora%20com%20suporte%20a%20imagens%20base64)%0A%20%20function%20extractRows(doc%20%3D%20document)%20%7B%0A%20%20%20%20const%20rows%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20const%20extractImgFromHtml%20%3D%20(html)%20%3D%3E%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20if%20(!html%20%7C%7C%20typeof%20html%20!%3D%3D%20'string')%20return%20''%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20procura%20data%3Aimage%2F...%3Bbase64%2CAAA...%0A%20%20%20%20%20%20%20%20const%20m%20%3D%20html.match(%2Fdata%3Aimage%5C%2F%5Ba-zA-Z0-9.%2B-%5D%2B%3Bbase64%2C%5BA-Za-z0-9%2B%2F%3D%5D%2B%2F)%3B%0A%20%20%20%20%20%20%20%20if%20(m)%20return%20m%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20tamb%C3%A9m%20tenta%20extrair%20src%20de%20%3Cimg%20src%3D%22...%22%3E%0A%20%20%20%20%20%20%20%20const%20imgMatch%20%3D%20html.match(%2F%3Cimg%5B%5E%3E%5D%2Bsrc%3D%5B%22'%5D(%5B%5E%22'%5D%2B)%5B%22'%5D%2Fi)%3B%0A%20%20%20%20%20%20%20%20if%20(imgMatch)%20return%20imgMatch%5B1%5D%3B%0A%20%20%20%20%20%20%20%20return%20''%3B%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%20return%20''%3B%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20const%20pushFromParams%20%3D%20(raw)%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20p%20%3D%20pullParams(raw%20%7C%7C%20%7B%7D)%3B%0A%20%20%20%20%20%20const%20question%20%3D%20clean(p.question%20%7C%7C%20p.prompt%20%7C%7C%20p.stem%20%7C%7C%20p.title%20%7C%7C%20%22%22)%3B%0A%20%20%20%20%20%20const%20answers%20%3D%20Array.isArray(p.answers)%20%3F%20p.answers%20%3A%20%5B%5D%3B%0A%20%20%20%20%20%20answers.forEach((a%2C%20idx)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20correct%20%3D%20a.correct%20%3D%3D%3D%20true%20%7C%7C%20a.isCorrect%20%3D%3D%3D%20true%20%7C%7C%20a.correctAnswer%20%3D%3D%3D%20true%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20extrai%20texto%20e%20imagem%20(se%20existir)%0A%20%20%20%20%20%20%20%20const%20rawHtml%20%3D%20a.text%20%7C%7C%20a.label%20%7C%7C%20a.content%20%7C%7C%20%22%22%3B%0A%20%20%20%20%20%20%20%20const%20text%20%3D%20clean(rawHtml)%3B%0A%20%20%20%20%20%20%20%20const%20img%20%3D%20extractImgFromHtml(rawHtml)%3B%0A%20%20%20%20%20%20%20%20rows.push(%7B%0A%20%20%20%20%20%20%20%20%20%20question%2C%0A%20%20%20%20%20%20%20%20%20%20idx%2C%0A%20%20%20%20%20%20%20%20%20%20letter%3A%20String.fromCharCode(65%20%2B%20idx)%2C%0A%20%20%20%20%20%20%20%20%20%20text%2C%0A%20%20%20%20%20%20%20%20%20%20img%2C%20%2F%2F%20url%20ou%20data%3Aimage...%0A%20%20%20%20%20%20%20%20%20%20imgHash%3A%20img%20%3F%20shortBase64(img)%20%3A%20''%2C%0A%20%20%20%20%20%20%20%20%20%20correct%2C%0A%20%20%20%20%20%20%20%20%20%20type%3A%20%22H5P.MultiChoice%22%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20const%20HI%20%3D%20doc.defaultView%3F.H5PIntegration%3B%0A%20%20%20%20if%20(HI%3F.contents)%20%7B%0A%20%20%20%20%20%20Object.values(HI.contents).forEach((val)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20lib%20%3D%20String(val.library%20%7C%7C%20%22%22).split(%22%20%22)%5B0%5D%3B%0A%20%20%20%20%20%20%20%20if%20(lib%20%3D%3D%3D%20%22H5P.MultiChoice%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20params%20%3D%20tryParse(val.jsonContent)%20%7C%7C%20val.content%20%7C%7C%20tryParse(val.params)%20%7C%7C%20null%3B%0A%20%20%20%20%20%20%20%20%20%20pushFromParams(params)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20const%20H5P%20%3D%20doc.defaultView%3F.H5P%3B%0A%20%20%20%20if%20(H5P%20%26%26%20Array.isArray(H5P.instances))%20%7B%0A%20%20%20%20%20%20H5P.instances.forEach((inst)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20const%20lib%20%3D%20inst.libraryInfo%3F.machineName%20%7C%7C%20inst.library%3F.machineName%20%7C%7C%20inst%3F.constructor%3F.name%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(%5B%22H5P.MultiChoice%22%2C%20%22H5P.SingleChoice%22%5D.includes(lib))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20params%20%3D%20inst.options%20%7C%7C%20inst.params%20%7C%7C%20inst.contentData%3F.params%20%7C%7C%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pushFromParams(params)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%20%2F*%20ignore%20instance%20parse%20errors%20*%2F%20%7D%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Adi%C3%A7%C3%A3o%20de%20suporte%20a%20%3Cli%20class%3D%22h5p-sc-alternative%20...%22%3E%20(DOM)%0A%20%20%20%20doc.querySelectorAll(%22li.h5p-sc-alternative%22).forEach((li%2C%20i)%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20correct%20%3D%20li.classList.contains(%22h5p-sc-is-correct%22)%3B%0A%20%20%20%20%20%20const%20rawHtml%20%3D%20li.innerHTML%20%7C%7C%20li.textContent%20%7C%7C%20''%3B%0A%20%20%20%20%20%20%2F%2F%20pega%20imagem%20se%20existir%0A%20%20%20%20%20%20const%20imgNode%20%3D%20li.querySelector('img')%3B%0A%20%20%20%20%20%20const%20img%20%3D%20imgNode%20%3F%20(imgNode.src%20%7C%7C%20'')%20%3A%20(rawHtml.includes('data%3Aimage')%20%3F%20(rawHtml.match(%2Fdata%3Aimage%5C%2F%5Ba-zA-Z0-9.%2B-%5D%2B%3Bbase64%2C%5BA-Za-z0-9%2B%2F%3D%5D%2B%2F)%3F.%5B0%5D%7C%7C'')%20%3A%20'')%3B%0A%20%20%20%20%20%20rows.push(%7B%0A%20%20%20%20%20%20%20%20question%3A%20%22SingleChoice%20(DOM)%22%2C%0A%20%20%20%20%20%20%20%20idx%3A%20i%2C%0A%20%20%20%20%20%20%20%20letter%3A%20String.fromCharCode(65%20%2B%20i)%2C%0A%20%20%20%20%20%20%20%20text%3A%20clean(li.innerText%20%7C%7C%20%22%22)%2C%0A%20%20%20%20%20%20%20%20img%2C%0A%20%20%20%20%20%20%20%20imgHash%3A%20img%20%3F%20shortBase64(img)%20%3A%20''%2C%0A%20%20%20%20%20%20%20%20correct%2C%0A%20%20%20%20%20%20%20%20el%3A%20li%2C%20%2F%2F%20guarda%20refer%C3%AAncia%20ao%20elemento%20DOM%20para%20clique%20direto%0A%20%20%20%20%20%20%20%20type%3A%20%22H5P.SingleChoice%22%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20return%20rows%3B%0A%20%20%7D%0A%0A%2F%2F%20...%20(c%C3%B3digo%20anterior)%0A%0A%C2%A0%20%2F%2F%20%F0%9F%A7%A0%20Marca%20respostas%20corretas%20automaticamente%20(agora%20com%20matching%20por%20%C3%ADndice%2C%20imagem%20e%20texto)%0A%C2%A0%20function%20autoAnswer(rows%2C%20doc%20%3D%20document)%20%7B%0A%C2%A0%20%C2%A0%20%2F%2F%20Se%20tiver%20dados%20vindos%20do%20extractRows()%0A%C2%A0%20%C2%A0%20if%20(rows%20%26%26%20rows.length%20%3E%200)%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20rows%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20.filter(r%20%3D%3E%20r.correct)%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20.forEach(r%20%3D%3E%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20let%20matched%20%3D%20false%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20const%20alternatives%20%3D%20Array.from(doc.querySelectorAll('.h5p-sc-alternative%2C%20.h5p-answer%2C%20li%5Brole%3D%22radio%22%5D%2C%20.h5p-single-choice-wrapper%20ul%20%3E%20li'))%3B%0A%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%2F%2F%201)%20%E2%9A%A1%20PRIORIDADE%3A%20Match%20por%20%C3%8DNDICE%20(O%20mais%20r%C3%A1pido%20e%20robusto)%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20if%20(r.idx%20!%3D%3D%20undefined%20%26%26%20alternatives.length%20%3E%20r.idx)%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20const%20el%20%3D%20alternatives%5Br.idx%5D%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20if%20(el%20%26%26%20el%20instanceof%20Element)%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20el.dispatchEvent(new%20MouseEvent('click'%2C%20%7B%20bubbles%3A%20true%2C%20cancelable%3A%20true%20%7D))%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20matched%20%3D%20true%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%0A%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%2F%2F%202)%20%F0%9F%96%BC%EF%B8%8F%20FALLBACK%3A%20Match%20por%20IMAGEM%2FBase64%20(Se%20falhou%20por%20%C3%ADndice)%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20if%20(!matched%20%26%26%20r.imgHash)%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20const%20imgs%20%3D%20Array.from(doc.querySelectorAll('.h5p-sc-alternative%2C%20.h5p-answer%2C%20li%2C%20img'))%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20for%20(const%20candidate%20of%20imgs)%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20try%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%2F%2F%20Se%20for%20%3Cimg%3E%20direto%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20if%20(candidate.tagName%20%26%26%20candidate.tagName.toLowerCase()%20%3D%3D%3D%20'img')%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20const%20src%20%3D%20candidate.src%20%7C%7C%20''%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20if%20(src%20%26%26%20shortBase64(src)%20%3D%3D%3D%20r.imgHash)%20%7B%20candidate.click()%3B%20matched%20%3D%20true%3B%20break%3B%20%7D%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%20else%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%2F%2F%20procurar%20img%20dentro%20do%20candidate%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20const%20imgNode%20%3D%20candidate.querySelector%20%26%26%20candidate.querySelector('img')%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20const%20src%20%3D%20imgNode%20%3F%20imgNode.src%20%3A%20(candidate.innerHTML%20%7C%7C%20'').match(%2Fdata%3Aimage%5C%2F%5Ba-zA-Z0-9.%2B-%5D%2B%3Bbase64%2C%5BA-Za-z0-9%2B%2F%3D%5D%2B%2F)%3F.%5B0%5D%20%7C%7C%20''%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20if%20(src%20%26%26%20shortBase64(src)%20%3D%3D%3D%20r.imgHash)%20%7B%20candidate.dispatchEvent(new%20MouseEvent('click'%2C%20%7B%20bubbles%3A%20true%2C%20cancelable%3A%20true%20%7D))%3B%20matched%20%3D%20true%3B%20break%3B%20%7D%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%20catch%20(e)%20%7B%7D%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%0A%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%2F%2F%203)%20%F0%9F%93%84%20%C3%9ALTIMO%20FALLBACK%3A%20Match%20por%20TEXTO%20(Menos%20confi%C3%A1vel)%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20if%20(!matched%20%26%26%20r.text)%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20const%20el%20%3D%20alternatives%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20.find(e%20%3D%3E%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20try%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20const%20t%20%3D%20e.innerText%20%7C%7C%20''%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%2F%2F%20A%20busca%20deve%20ser%20feita%20pelo%20texto%20limpo%20da%20resposta%20no%20JSON%2FAPI%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20return%20t%20%26%26%20normalize(t).includes(normalize(r.text))%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%20catch%20(e)%20%7B%20return%20false%3B%20%7D%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D)%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20if%20(el)%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20el.dispatchEvent(new%20MouseEvent('click'%2C%20%7B%20bubbles%3A%20true%2C%20cancelable%3A%20true%20%7D))%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20matched%20%3D%20true%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%0A%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%2F%2F%20Log%20de%20resultado%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20if%20(!matched)%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20console.warn(%60%E2%9A%A0%EF%B8%8F%20N%C3%A3o%20achou%20alternativa%3A%20%5B%24%7Br.idx%7D%5D%20%24%7Br.text%20%7C%7C%20r.imgHash%7D%60)%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%20else%20%7B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20console.log(%60%E2%9C%85%20Marcou%20correta%20(Match%3A%20%24%7Br.idx%20!%3D%3D%20undefined%20%3F%20'%C3%8Dndice'%20%3A%20r.imgHash%20%3F%20'Imagem'%20%3A%20'Texto'%7D)%3A%20%24%7Br.text%20%7C%7C%20r.imgHash%7D%60)%3B%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D%0A%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%7D)%3B%0A%C2%A0%20%C2%A0%20%7D%0A%0A%20%20%20%20%2F%2F%20Caso%20ainda%20exista%20.h5p-sc-is-correct%20no%20DOM%2C%20garante%20o%20clique%0A%20%20%20%20const%20correctEls%20%3D%20doc.querySelectorAll('.h5p-sc-alternative.h5p-sc-is-correct%2C%20.h5p-answer.correct')%3B%0A%20%20%20%20if%20(correctEls.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20correctEls.forEach(el%20%3D%3E%0A%20%20%20%20%20%20%20%20el.dispatchEvent(new%20MouseEvent('click'%2C%20%7B%20bubbles%3A%20true%2C%20cancelable%3A%20true%20%7D))%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20S%C3%B3%20clica%20no%20bot%C3%A3o%20se%20ele%20existir%0A%20%20%20%20const%20checkBtn%20%3D%20doc.querySelector(%22.h5p-question-check-answer%2C%20.h5p-multi-choice-submit%2C%20.h5p-sc-next%2C%20button%5Bdata-check%5D%2C%20button%5Btype%3D'submit'%5D%22)%3B%0A%20%20%20%20if%20(checkBtn%20%26%26%20!checkBtn.disabled)%20%7B%0A%20%20%20%20%20%20try%20%7B%20checkBtn.click()%3B%20%7D%20catch%20(e)%20%7B%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20%E2%96%B6%EF%B8%8F%20Clicar%20no%20bot%C3%A3o%20Avan%C3%A7ar%0A%20%20function%20autoClickNext(doc%20%3D%20document)%20%7B%0A%20%20%20%20%2F%2F%20responded()%20pode%20n%C3%A3o%20existir%20no%20teu%20script%3B%20considera%20remover%20ou%20substituir%20com%20verifica%C3%A7%C3%A3o%20simples%0A%20%20%20%20%2F%2F%20if%20(!responded(doc))%20return%3B%0A%20%20%20%20const%20nextBtn%20%3D%20Array.from(%0A%20%20%20%20%20%20doc.querySelectorAll(%22button.nui-button.nui-button-medium.nui-button-curved.nui-button-solid.nui-button-primary%2C%20button%22)%0A%20%20%20%20).find(b%20%3D%3E%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20txt%20%3D%20(b.innerText%20%7C%7C%20'').toLowerCase()%3B%0A%20%20%20%20%20%20%20%20if%20(!txt)%20return%20false%3B%0A%20%20%20%20%20%20%20%20if%20(txt.includes(%22avaliar%22)%20%7C%7C%20txt.includes(%22experi%C3%AAncia%22))%20return%20false%3B%0A%20%20%20%20%20%20%20%20return%20%2Favan%C3%A7ar%7Cpr%C3%B3xima%7Cpr%C3%B3ximo%7Ccontinuar%7Cnext%7Cprosseguir%7Cseguinte%7Cconcluir%7Cfinalizar%7Cenviar%7Cavancar%2Fi.test(txt)%3B%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%20return%20false%3B%20%7D%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20if%20(nextBtn%20%26%26%20!nextBtn.disabled)%20%7B%0A%20%20%20%20%20%20console.log(%22%E2%96%B6%EF%B8%8F%20Clicando%20no%20bot%C3%A3o%20Avan%C3%A7ar%20(filtrado)%22)%3B%0A%20%20%20%20%20%20try%20%7B%20nextBtn.click()%3B%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20fallback%3A%20despacha%20eventos%20simulados%0A%20%20%20%20%20%20%20%20%5B%22mousedown%22%2C%22mouseup%22%2C%22click%22%5D.forEach(evt%20%3D%3E%20nextBtn.dispatchEvent(new%20MouseEvent(evt%2C%20%7B%20bubbles%3A%20true%2C%20cancelable%3A%20true%20%7D)))%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20clickInitialAdvance(doc%20%3D%20document)%20%7B%0A%20%20%20%20const%20btn%20%3D%20Array.from(%0A%20%20%20%20%20%20doc.querySelectorAll(%22button.nui-button.nui-button-medium.nui-button-curved.nui-button-solid.nui-button-primary%2C%20button%22)%0A%20%20%20%20).find(b%20%3D%3E%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20txt%20%3D%20(b.innerText%20%7C%7C%20'').toLowerCase()%3B%0A%20%20%20%20%20%20%20%20if%20(!txt)%20return%20false%3B%0A%20%20%20%20%20%20%20%20if%20(txt.includes(%22avaliar%22)%20%7C%7C%20txt.includes(%22experi%C3%AAncia%22))%20return%20false%3B%0A%20%20%20%20%20%20%20%20return%20%2Favan%C3%A7ar%7Cpr%C3%B3xima%7Cpr%C3%B3ximo%7Ccontinuar%7Cnext%7Cprosseguir%7Cseguinte%7Cconcluir%7Cfinalizar%7Cenviar%7Cavancar%2Fi.test(txt)%3B%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%20return%20false%3B%20%7D%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20if%20(btn%20%26%26%20!btn.disabled)%20%7B%0A%20%20%20%20%20%20console.log(%22%E2%96%B6%EF%B8%8F%20Clicando%20no%20bot%C3%A3o%20inicial%20Avan%C3%A7ar%20(filtrado)%22)%3B%0A%20%20%20%20%20%20try%20%7B%20btn.click()%3B%20%7D%20catch%20(e)%20%7B%7D%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%F0%9F%94%81%20Atualiza%20a%20interface%20e%20marca%20respostas%0A%20%20function%20refresh(doc%20%3D%20document)%20%7B%0A%20%20%20%20if%20(clickInitialAdvance(doc))%20return%3B%0A%20%20%20%20const%20rows%20%3D%20extractRows(doc)%3B%0A%20%20%20%20const%20box%20%3D%20createBox(doc)%3B%0A%0A%20%20%20%20if%20(!rows.length)%20%7B%0A%20%20%20%20%20%20box.innerHTML%20%3D%20%22%3Cb%3E%E2%9C%85%20H5P%3A%3C%2Fb%3E%3Cbr%3E%3Ci%3ENenhuma%20quest%C3%A3o%20encontrada.%3C%2Fi%3E%22%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20autoAnswer(rows%2C%20doc)%3B%0A%20%20%20%20setTimeout(()%20%3D%3E%20autoClickNext(doc)%2C%20700)%3B%0A%0A%20%20%20%20rows.sort((a%2C%20b)%20%3D%3E%20a.letter.localeCompare(b.letter))%3B%0A%20%20%20%20let%20html%20%3D%20%22%3Cb%3E%E2%9C%85%20H5P%20Detectado%3A%3C%2Fb%3E%3Cbr%3E%3Ctable%20style%3D'width%3A100%25%3B%20font-size%3A12px%3B'%3E%22%3B%0A%20%20%20%20rows.forEach((r)%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20dispText%20%3D%20r.text%20%7C%7C%20(r.img%20%3F%20%60%5Bimagem%5D%60%20%3A%20'')%3B%0A%20%20%20%20%20%20html%20%2B%3D%20%60%3Ctr%3E%3Ctd%3E%24%7Br.correct%20%3F%20%22%E2%9C%85%22%20%3A%20%22%E2%9D%8C%22%7D%3C%2Ftd%3E%3Ctd%3E%24%7Br.letter%7D)%3C%2Ftd%3E%3Ctd%3E%24%7BdispText%7D%3C%2Ftd%3E%3Ctd%20style%3D%22opacity%3A0.6%3B%22%3E(%24%7Br.type%7D)%3C%2Ftd%3E%3C%2Ftr%3E%60%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20html%20%2B%3D%20%22%3C%2Ftable%3E%22%3B%0A%20%20%20%20box.innerHTML%20%3D%20html%3B%0A%20%20%7D%0A%0A%20%20function%20scanIframe()%20%7B%0A%20%20%20%20document.querySelectorAll(%22iframe%22).forEach((frame)%20%3D%3E%20%7B%0A%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20const%20doc%20%3D%20frame.contentDocument%3B%0A%20%20%20%20%20%20%20%20if%20(!doc)%20return%3B%0A%20%20%20%20%20%20%20%20refresh(doc)%3B%0A%20%20%20%20%20%20%20%20doc.addEventListener(%22DOMContentLoaded%22%2C%20()%20%3D%3E%20refresh(doc))%3B%0A%20%20%20%20%20%20%20%20console.log(%22%F0%9F%94%84%20Injetado%20em%20iframe%20(same-origin)%22)%3B%0A%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20console.warn(%22%E2%9A%A0%EF%B8%8F%20Iframe%20bloqueado%20por%20CORS%3A%22%2C%20e)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20%F0%9F%9A%80%20Inicializa%C3%A7%C3%A3o%0A%20%20function%20init()%20%7B%0A%20%20%20%20console.log(%22%F0%9F%A7%A0%20Script%20H5P%20ativo%20em%3A%22%2C%20location.href)%3B%0A%20%20%20%20refresh(document)%3B%0A%20%20%20%20setInterval(()%20%3D%3E%20refresh(document)%2C%201000)%3B%0A%20%20%20%20setInterval(scanIframe%2C%201500)%3B%0A%20%20%7D%0A%0A%20%20init()%3B%0A%7D)()%3B%7D)()%3B
